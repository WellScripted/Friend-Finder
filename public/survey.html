<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    	<!-- Link to the jQuery Library -->
  	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

  	<!-- Including Font Awesome Icons -->
  	<script src="https://use.fontawesome.com/b38c8ed4c7.js"></script>

	<!-- Link to reset stylesheet -->
	<link rel="stylesheet" href="css/reset.css">

	<!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	<!-- Compiled and minified Materialize CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">

	<!-- Compiled and minified Materialize JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>
    
    <link rel="stylesheet" href="css/style.css">

    <title> SURVEY PAGE </title>
</head>

<body>
    <h3> Question One: </h3>
    <h4> Your favorie color is red? </h4>
    <select id="Q1">
        <option value=" "></option>
        <option value="1">1 (strongly disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (strongly agree)</option>
    </select>
    <!-- MAKE THE REST OF THESE QUESTIONS UNIQUE! CHANGE SELECT IDS!-->
    <h3> Question Two: </h3>
    <h4> Your favorite color is blue? </h4>
    <select id="Q2">
        <option value=" "></option>
        <option value="1">1 (strongly disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (strongly agree)</option>
    </select>
    <h3> Question Three: </h3>
    <h4> My partner's politics matter to me. </h4>
    <select id="Q3">
        <option value=" "></option>
        <option value="1">1 (strongly disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (strongly agree)</option>
    </select>
    <h3> Question Four: </h3>
    <h4> Casual sex dulls one's ability to have true intimacy. </h4>
    <select id="Q4">
        <option value=" "></option>
        <option value="1">1 (strongly disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (strongly agree)</option>
    </select>
    <h3> Question Five: </h3>
    <h4> My partner must love pets. </h4>
    <select id="Q5">
        <option value=" "></option>
        <option value="1">1 (strongly disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (strongly agree)</option>
    </select>
    <h3> Question Six: </h3>
    <h4> Having children is really important to me. </h4>
    <select id="Q6">
        <option value=" "></option>
        <option value="1">1 (strongly disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (strongly agree)</option>
    </select>
    <h3> Question Seven: </h3>
    <h4> My partner and I should have a fit & adventurous lifestyle. </h4>
    <select id="Q7">
        <option value=" "></option>
        <option value="1">1 (strongly disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (strongly agree)</option>
    </select>
    <h3> Question Eight: </h3>
    <h4> My partner and I should read books and share the same intellectual pursuits. </h4>
    <select id="Q8">
        <option value=" "></option>
        <option value="1">1 (strongly disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (strongly agree)</option>
    </select>
    <h3> Question Nine: </h3>
    <h4> Marriage is important and a fundamental institution in our society. </h4>
    <select id="Q9">
        <option value=" "></option>
        <option value="1">1 (strongly disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (strongly agree)</option>
    </select>
    <h3> Question Ten: </h3>
    <h4> Religion/Spirituality plays a central role in my life. </h4>
    <select id="Q10">
        <option value=" "></option>
        <option value="1">1 (strongly disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (strongly agree)</option>
    </select>

    <!--Submit Button-->
    <div>
        <button class="btn waves-effect waves-light" type="submit" name="action" id="submitButton">Submit Responses
            <i class="material-icons right">send</i>
        </button>
    </div>

    <!--jQuery BTN Function-->
    <script>

$(document).ready(function() {
			$('select').material_select();
			$('.modal').modal({
				dismissible: false, // Modal can be dismissed by clicking outside of the modal
				opacity: .5, // Opacity of modal background
				inDuration: 300, // Transition in duration
				outDuration: 200, // Transition out duration
				startingTop: '4%', // Starting top style attribute
				endingTop: '10%' // Ending top style attribute
			});
		});
		// Activate submit button
		$('#submitButton').on('click', function(event) {
			event.preventDefault();
			// Gather user inputs
			var userInput = {
				name: $('#userName').val().trim(),
				photo: $('#userPhoto').val().trim(),
				scores:[
					$('#Q1').val().trim(),
					$('#Q2').val().trim(),
					$('#Q3').val().trim(),
					$('#Q4').val().trim(),
					$('#Q5').val().trim(),
					$('#Q6').val().trim(),
					$('#Q7').val().trim(),
					$('#Q8').val().trim(),
					$('#Q9').val().trim(),
					$('#Q10').val().trim()
				]
			};
			// console.log('userInput = ' + JSON.stringify(userInput));
			// Add user inputs to friends list
			$.post('/api/friends', userInput)
      		.done(function(data) {
      			// console.log('response = ' + JSON.stringify(data));
      			// Set the name and image values of friend match
      			$('#userMatch').html(data.userData);
		    	$("#userMatchImage").attr("src", data.bestMatch);
		    	// Pop open the modal dialog
      			$('#modal1').modal('open');
      		});
		});

    </script>
</body>

</html>